<div class="mt-1">
    <app-top-search></app-top-search>
    
</div>
<div class="static mx-auto place-content-center w-3/4 surface-card p-4 shadow-2 border-round">
    <div class="mb-3">
        <p-button routerLink="/browse" class="h-48 content-center"> <i class="pi pi-arrow-left"></i></p-button>
    </div>
    <div class="relative h-1/12">
        <img alt="Card" class="rounded-md h-48 w-full object-cover" src={{selectedRestaurant.img}} />
    </div>

    <div class="text-4xl font-medium mt-3 text-900 mb-3"> {{selectedRestaurant.name}} </div>
    <div class="font-normal text-500 text-gray-400 mb-3"> {{selectedRestaurant.description}} </div>
    
    <div class="grid grid-cols-4 grid-rows-2 gap-3 content-center">

          <!-- what a monstrosity xd  -->
        <div class="col-span-1 col-start-1 absolute" >
        <p-accordion value="0" >
            <p-accordion-panel value="1" >
                <p-accordion-header>Hours open
                    <ng-template #toggleicon let-active="active">
                    @if (active) {
                        <i class="pi pi-minus"></i>
                    } @else {
                        <i class="pi pi-plus"></i>
                    }
            </ng-template>
                </p-accordion-header>
                <p-accordion-content>  
                    
                        <div *ngIf="selectedRestaurant">
                            <p-table [value]="getHoursArray()" [tableStyle]="{ 'max-width': '15rem' }">
                                <ng-template #header>
                                    <tr>
                                        <th>Day</th>
                                        <th>Hours </th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-hourObj>
                                    <tr>
                                        <td>{{ hourObj.day }}</td>
                                        <td>{{ hourObj.hours }}</td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        </div>
        
                </p-accordion-content>
            </p-accordion-panel>
        </p-accordion>
        </div>
        
        <div class="col-span-1 col-start-4 content-center" >
            <p-rating [(ngModel)]="value" [readonly]="true"/><h1 >{{selectedRestaurant.rating}} / 5 &nbsp;&nbsp;&nbsp;&nbsp; <div class="text-stone-400">{{selectedRestaurant.reviewCount}} reviews</div></h1> 
        </div>

        <div>
            <div>
                <i class="pi pi-map-marker"></i>
                {{selectedRestaurant.location}}
            </div >

            <div class="mt-3"> 
                <i class="pi pi-phone"></i>
                {{selectedRestaurant.phone}}
            </div>
        </div>
        
        <p-button (click)="showDialog()" class="col-span-1 col-start-4 content-center"><i class="pi pi-send"> </i> Write a review</p-button>
        <p-dialog header="Review" [modal]="true" [(visible)]="visible" [style]="{ width: '25rem' }">
            <span class="p-text-secondary block mb-8">Leave {{selectedRestaurant.name}} a review.</span>
            <div class="flex items-center gap-4 mb-4"> 
                <label for="title" class="font-semibold w-24">Title</label>
                <input pInputText id="title" class="flex-auto" autocomplete="off" />
                <p-rating class="flex-auto" ></p-rating>
            </div>
            <div class="flex items-center gap-5 mb-8">
                <p-floatlabel variant="on">
                    <label for="review" class="font-semibold w-24">Description</label>
                    <textarea rows="8" cols="37" id="review" class="flex-auto" autocomplete="off" > </textarea>
                </p-floatlabel>
            </div>
            <div class="flex justify-end gap-2">
                    <p-button label="Cancel" severity="secondary" (click)="visible = false" />
                    <p-button label="Post" (click)="visible = false" />
            </div>
        </p-dialog>

    </div>
    
    <!-- menu items here  -->
    <div class="mt-10 flex flex-row justify-center h-52 items-center bg-slate-800 rounded-3xl"><strong> Put menu items here</strong></div>
    
</div>